import{a as w,b as N,c as O,d as P}from"./chunk-WWZ645Q7.js";import"./chunk-GGQ7LRWG.js";import{$ as d,Ca as y,Da as C,Fa as o,H as i,Ha as k,Ia as S,K as s,L as b,Ma as M,Oa as I,Qa as A,T as u,Z as t,_ as r,ba as p,da as m,ea as g,ha as c,ia as h,ja as f}from"./chunk-LD66H5SA.js";var W=class v{constructor(_,a,e){this.route=_;this.router=a;this.authservice=e}returnUrl="/";name="";phonenumber="";invalid_marker={name:0,phonenumber:0,shakeState:!1};ngOnInit(){this.returnUrl=this.route.snapshot.queryParams.returnUrl||"/"}login(){this.validate()&&(localStorage.setItem("login.customer",JSON.stringify({name:this.name,phonenumber:this.phonenumber})),localStorage.setItem("kotno","1"),localStorage.setItem("orders.pending",JSON.stringify([])),localStorage.setItem("orders.completed",JSON.stringify([])),this.router.navigateByUrl(this.returnUrl))}validate(){return this.name.trim()===""||this.phonenumber.trim()===""?(this.name.trim()===""&&(this.invalid_marker.name=-1),this.phonenumber.trim()===""&&(this.invalid_marker.phonenumber=-1),this.invalid_marker.shakeState=!this.invalid_marker.shakeState,console.log(this.name,this.phonenumber),console.log(this.invalid_marker),!1):!0}static \u0275fac=function(a){return new(a||v)(s(M),s(I),s(A))};static \u0275cmp=b({type:v,selectors:[["app-cutomerlogin"]],decls:18,vars:6,consts:[[1,"login-container"],[1,"text-center","mb-4"],[1,"mb-1","py-2"],[1,"d-flex","border-bottom"],["src","/assets/svgs/person.svg","alt","","srcset","","height","50"],["type","text","placeholder","Your kind name, Please.",1,"input-control",3,"ngModelChange","input","ngModel"],[1,"float-end","fst-italic","text-danger"],["src","/assets/svgs/call.svg","alt","","srcset","","height","50"],["type","text","placeholder","Your phone number.",1,"input-control",3,"ngModelChange","input","ngModel"],[1,"w-100","btn","btn-primary","rounded-5","mt-4",3,"click"]],template:function(a,e){a&1&&(t(0,"div",0)(1,"div")(2,"div",1),m(3,"Welcome!"),r(),t(4,"div",2)(5,"div",3),d(6,"img",4),t(7,"input",5),f("ngModelChange",function(n){return h(e.name,n)||(e.name=n),n}),p("input",function(){return e.invalid_marker.name=1}),r()(),t(8,"span",6),m(9),r()(),t(10,"div",2)(11,"div",3),d(12,"img",7),t(13,"input",8),f("ngModelChange",function(n){return h(e.phonenumber,n)||(e.phonenumber=n),n}),p("input",function(){return e.invalid_marker.phonenumber=1}),r()(),t(14,"span",6),m(15),r()(),t(16,"button",9),p("click",function(){return e.login()}),m(17,"Login"),r()()()),a&2&&(i(7),c("ngModel",e.name),i(),u("@shake",e.invalid_marker.shakeState),i(),g(e.invalid_marker.name==-1?"*Name is mandatory":""),i(4),c("ngModel",e.phonenumber),i(),u("@shake",e.invalid_marker.shakeState),i(),g(e.invalid_marker.phonenumber==-1?"*Phone number is mandatory":""))},dependencies:[P,w,N,O],styles:[".login-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;height:100dvh}.input-control[_ngcontent-%COMP%]{all:unset;font-size:1.2rem}"],data:{animation:[y("shake",[S("* => *",[C("200ms ease-in",k([o({transform:"translateX(0)"}),o({transform:"translateX(-5px)"}),o({transform:"translateX(5px)"}),o({transform:"translateX(-5px)"}),o({transform:"translateX(5px)"}),o({transform:"translateX(0)"})]))])])]}})};export{W as CutomerloginComponent};
